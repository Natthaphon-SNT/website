<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E.need pc - ระบบจัดสเปคคอมพิวเตอร์</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600;700&display=swap');
        body { font-family: 'Kanit', sans-serif; background-color: #020617; }
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #0f172a; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- SVG Icons (Heroicons - ไม่ต้องง้อ Library ภายนอก) ---
        const Icons = {
            Cpu: () => <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-5 h-5"><path strokeLinecap="round" strokeLinejoin="round" d="M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 002.25-2.25V6.75a2.25 2.25 0 00-2.25-2.25H6.75A2.25 2.25 0 004.5 6.75v10.5a2.25 2.25 0 002.25 2.25zm.75-12h9v9h-9v-9z" /></svg>,
            Board: () => <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-5 h-5"><path strokeLinecap="round" strokeLinejoin="round" d="M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25" /></svg>,
            Monitor: () => <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-5 h-5"><path strokeLinecap="round" strokeLinejoin="round" d="M6 20.25h12m-7.5-3v3m3-3v3m-10.125-3h17.25c.621 0 1.125-.504 1.125-1.125V4.875c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125z" /></svg>,
            Ram: () => <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-5 h-5"><path strokeLinecap="round" strokeLinejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h12A2.25 2.25 0 0120.25 6v12a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18V6zM8.25 8.25h.01M8.25 12h.01M8.25 15.75h.01M12 8.25h.01M12 12h.01M12 15.75h.01M15.75 8.25h.01M15.75 12h.01M15.75 15.75h.01" /></svg>,
            HardDrive: () => <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-5 h-5"><path strokeLinecap="round" strokeLinejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125" /></svg>,
            Zap: () => <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-5 h-5"><path strokeLinecap="round" strokeLinejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z" /></svg>,
            Box: () => <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-5 h-5"><path strokeLinecap="round" strokeLinejoin="round" d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9" /></svg>,
            Check: () => <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={3} stroke="currentColor" className="w-4 h-4 text-green-500"><path strokeLinecap="round" strokeLinejoin="round" d="M4.5 12.75l6 6 9-13.5" /></svg>,
            Alert: () => <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-4 h-4 text-red-400"><path strokeLinecap="round" strokeLinejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>,
            Cart: () => <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-5 h-5"><path strokeLinecap="round" strokeLinejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" /></svg>
        };

        // --- Data Specs ---
        const CATEGORIES = [
            { id: 'cpu', name: 'CPU', Icon: Icons.Cpu },
            { id: 'motherboard', name: 'Mainboard', Icon: Icons.Board },
            { id: 'gpu', name: 'VGA', Icon: Icons.Monitor },
            { id: 'ram', name: 'RAM', Icon: Icons.Ram },
            { id: 'storage', name: 'Storage', Icon: Icons.HardDrive },
            { id: 'psu', name: 'Power Supply', Icon: Icons.Zap },
            { id: 'case', name: 'Case', Icon: Icons.Box },
        ];

        const PRODUCTS = {
            cpu: [
                { id: 'c1', name: 'Intel Core i9-14900K', price: 24500, detail: 'LGA1700, 24C/32T', socket: 'LGA1700', power: 253 },
                { id: 'c2', name: 'Intel Core i5-14600K', price: 12900, detail: 'LGA1700, 14C/20T', socket: 'LGA1700', power: 181 },
                { id: 'c3', name: 'AMD Ryzen 9 7950X3D', price: 26900, detail: 'AM5, 16C/32T', socket: 'AM5', power: 120 },
                { id: 'c4', name: 'AMD Ryzen 5 7600X', price: 8500, detail: 'AM5, 6C/12T', socket: 'AM5', power: 105 },
            ],
            motherboard: [
                { id: 'm1', name: 'ASUS ROG MAXIMUS Z790', price: 22900, detail: 'LGA1700, DDR5', socket: 'LGA1700', ramType: 'DDR5' },
                { id: 'm2', name: 'MSI MAG B760 TOMAHAWK', price: 7590, detail: 'LGA1700, DDR5', socket: 'LGA1700', ramType: 'DDR5' },
                { id: 'm3', name: 'GIGABYTE X670E AORUS', price: 18500, detail: 'AM5, DDR5', socket: 'AM5', ramType: 'DDR5' },
            ],
            gpu: [
                { id: 'g1', name: 'NVIDIA RTX 4090 24GB', price: 72000, detail: '24GB GDDR6X', power: 450 },
                { id: 'g2', name: 'NVIDIA RTX 4070 Ti 12GB', price: 32500, detail: '12GB GDDR6X', power: 285 },
                { id: 'g3', name: 'AMD Radeon RX 7900 XTX', price: 39900, detail: '24GB GDDR6', power: 355 },
            ],
            ram: [
                { id: 'r1', name: 'Corsair Vengeance 32GB', price: 5900, detail: 'DDR5 6000MHz', type: 'DDR5' },
                { id: 'r3', name: 'Kingston Fury 16GB', price: 2500, detail: 'DDR4 3200MHz', type: 'DDR4' },
            ],
            psu: [
                { id: 'p1', name: 'Corsair RM850e 850W', price: 4790, detail: '80+ Gold', watts: 850 },
                { id: 'p2', name: 'Thermaltake 1000W', price: 6590, detail: '80+ Gold', watts: 1000 },
                { id: 'p3', name: 'SilverStone 650W', price: 1990, detail: '80+ Bronze', watts: 650 },
            ],
            storage: [
                { id: 's1', name: 'Samsung 990 PRO 1TB', price: 4590, detail: 'NVMe Gen4' },
                { id: 's2', name: 'WD Black SN850X 2TB', price: 6900, detail: 'NVMe Gen4' }
            ],
            case: [
                { id: 'ca1', name: 'NZXT H9 Flow', price: 5990, detail: 'Dual Chamber' },
                { id: 'ca3', name: 'Montech Air 100', price: 1690, detail: 'Micro-ATX' }
            ]
        };

        function App() {
            const [selectedParts, setSelectedParts] = useState({});
            const [activeCategory, setActiveCategory] = useState('cpu');
            const [totalPrice, setTotalPrice] = useState(0);
            const [watts, setWatts] = useState(0);
            const [issues, setIssues] = useState([]);

            useEffect(() => {
                let t = 0; let w = 60; // base power
                Object.values(selectedParts).forEach(p => {
                    t += p.price;
                    if (p.power) w += p.power;
                });
                setTotalPrice(t);
                setWatts(w);

                // Compatibility Check
                const newIssues = [];
                const { cpu, motherboard, ram, psu } = selectedParts;
                if (cpu && motherboard && cpu.socket !== motherboard.socket) 
                    newIssues.push(`Socket mismatch: ${cpu.socket} vs ${motherboard.socket}`);
                if (ram && motherboard && ram.type !== motherboard.ramType)
                    newIssues.push(`RAM mismatch: ${ram.type} vs ${motherboard.ramType}`);
                if (psu && psu.watts < w)
                    newIssues.push(`PSU Warning: ${psu.watts}W is too low for ${w}W load!`);
                setIssues(newIssues);
            }, [selectedParts]);

            return (
                <div className="min-h-screen text-slate-200 p-4 md:p-8">
                    <header className="max-w-7xl mx-auto flex justify-between items-center mb-8">
                        <div className="flex items-center gap-3">
                            <div className="text-cyan-400"><Icons.Monitor /></div>
                            <h1 className="text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 text-transparent bg-clip-text">E.need pc</h1>
                        </div>
                        <div className="bg-slate-800 px-4 py-2 rounded-full border border-slate-700 flex items-center gap-2">
                            <div className="text-yellow-400"><Icons.Zap /></div>
                            <span className="text-sm font-bold">{watts}W</span>
                        </div>
                    </header>

                    <div className="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-4 gap-6">
                        {/* Categories List */}
                        <div className="space-y-2">
                            {CATEGORIES.map(cat => (
                                <button 
                                    key={cat.id}
                                    onClick={() => setActiveCategory(cat.id)}
                                    className={`w-full flex items-center p-4 rounded-xl border transition-all ${activeCategory === cat.id ? 'bg-cyan-600/20 border-cyan-500 text-white shadow-lg shadow-cyan-900/20' : 'bg-slate-900/50 border-slate-800 text-slate-500 hover:border-slate-700'}`}
                                >
                                    <div className="mr-3"><cat.Icon /></div>
                                    <span className="font-medium">{cat.name}</span>
                                    {selectedParts[cat.id] && <div className="ml-auto"><Icons.Check /></div>}
                                </button>
                            ))}
                        </div>

                        {/* Product Grid */}
                        <div className="lg:col-span-2 space-y-4">
                            <h2 className="text-xl font-bold text-white mb-4 flex items-center gap-2">
                                <div className="text-cyan-400"><Icons.Box /></div>
                                เลือก {CATEGORIES.find(c => c.id === activeCategory).name}
                            </h2>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                {PRODUCTS[activeCategory]?.map(p => (
                                    <div 
                                        key={p.id}
                                        onClick={() => setSelectedParts({...selectedParts, [activeCategory]: p})}
                                        className={`p-5 rounded-2xl border cursor-pointer transition-all ${selectedParts[activeCategory]?.id === p.id ? 'bg-slate-800 border-cyan-500 ring-1 ring-cyan-500 shadow-md shadow-cyan-900/30' : 'bg-slate-900 border-slate-800 hover:bg-slate-800'}`}
                                    >
                                        <div className="flex justify-between font-bold text-lg text-white">
                                            <span>{p.name}</span>
                                        </div>
                                        <p className="text-slate-500 text-sm mt-1">{p.detail}</p>
                                        <div className="mt-4 flex justify-between items-end">
                                            <div className="text-cyan-400 font-bold text-xl">฿{p.price.toLocaleString()}</div>
                                            {p.power && <div className="text-xs text-yellow-500 bg-yellow-500/10 px-2 py-1 rounded">{p.power}W</div>}
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Order Summary Sidebar */}
                        <div className="space-y-6">
                            <div className="bg-slate-900 p-6 rounded-3xl border border-slate-800 sticky top-8">
                                <h2 className="text-xl font-bold mb-6 flex items-center gap-2 text-white">
                                    <div className="text-purple-400"><Icons.Cart /></div>
                                    สรุปรายการ
                                </h2>
                                
                                {issues.length > 0 && (
                                    <div className="bg-red-500/10 border border-red-500/20 p-3 rounded-xl mb-6">
                                        {issues.map((msg, i) => (
                                            <p key={i} className="text-red-400 text-xs flex items-center gap-1 mt-1">
                                                <Icons.Alert /> {msg}
                                            </p>
                                        ))}
                                    </div>
                                )}

                                <div className="space-y-3 mb-8 max-h-60 overflow-y-auto custom-scrollbar pr-2">
                                    {CATEGORIES.map(cat => (
                                        <div key={cat.id} className="flex justify-between text-sm">
                                            <span className="text-slate-500">{cat.name}</span>
                                            <span className="text-slate-300 truncate ml-4 w-32 text-right">
                                                {selectedParts[cat.id]?.name || '-'}
                                            </span>
                                        </div>
                                    ))}
                                </div>

                                <div className="border-t border-slate-800 pt-6">
                                    <p className="text-slate-500 text-sm">ยอดชำระสุทธิ</p>
                                    <div className="text-4xl font-bold text-white mt-1">฿{totalPrice.toLocaleString()}</div>
                                </div>

                                <button 
                                    disabled={totalPrice === 0}
                                    className="w-full mt-8 py-4 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 rounded-2xl font-bold shadow-lg shadow-cyan-900/20 transition-all active:scale-95 disabled:opacity-30 disabled:scale-100 text-white"
                                >
                                    สั่งซื้อสินค้า
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
