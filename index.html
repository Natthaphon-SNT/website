<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E.need pc - จัดสเปคคอมออนไลน์</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600;700&display=swap');
        body { font-family: 'Kanit', sans-serif; background-color: #020617; color: #e2e8f0; margin: 0; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // ฟังก์ชันช่วยสร้าง Icon แบบปลอดภัย
        const Icon = ({ name, className }) => {
            if (typeof lucide === 'undefined' || !lucide[name]) {
                return <span className={className}>...</span>; // คืนค่าเป็น text ธรรมดาระหว่างรอโหลด
            }
            const LucideIcon = lucide[name];
            return <LucideIcon className={className} />;
        };

        const PRODUCTS = {
            cpu: [
                { id: 'c1', name: 'Intel Core i9-14900K', price: 24500, detail: 'LGA1700, 24C/32T' },
                { id: 'c2', name: 'Intel Core i5-14600K', price: 12900, detail: 'LGA1700, 14C/20T' },
                { id: 'c3', name: 'AMD Ryzen 9 7950X3D', price: 26900, detail: 'AM5, 16C/32T' }
            ],
            motherboard: [
                { id: 'm1', name: 'ASUS ROG MAXIMUS Z790', price: 22900, detail: 'LGA1700, DDR5' },
                { id: 'm2', name: 'MSI MAG B760 TOMAHAWK', price: 7590, detail: 'LGA1700, DDR5' }
            ],
            gpu: [
                { id: 'g1', name: 'NVIDIA RTX 4090 24GB', price: 72000, detail: '24GB GDDR6X' },
                { id: 'g2', name: 'NVIDIA RTX 4070 Ti 12GB', price: 32500, detail: '12GB GDDR6X' }
            ]
        };

        const CATEGORIES = [
            { id: 'cpu', name: 'CPU', icon: 'Cpu' },
            { id: 'motherboard', name: 'Mainboard', icon: 'CircuitBoard' },
            { id: 'gpu', name: 'VGA', icon: 'Monitor' }
        ];

        function App() {
            const [activeCategory, setActiveCategory] = React.useState('cpu');
            const [selectedParts, setSelectedParts] = React.useState({});

            const formatPrice = (num) => num.toLocaleString();

            return (
                <div className="min-h-screen">
                    <header className="bg-slate-900 border-b border-slate-700 p-4">
                        <div className="max-w-7xl mx-auto flex justify-between items-center">
                            <div className="flex items-center gap-2">
                                <Icon name="Monitor" className="text-cyan-400 w-6 h-6" />
                                <span className="text-2xl font-bold bg-gradient-to-r from-cyan-400 to-purple-500 text-transparent bg-clip-text">
                                    E.need pc
                                </span>
                            </div>
                            <Icon name="ShoppingCart" className="text-slate-400 w-6 h-6" />
                        </div>
                    </header>

                    <main className="max-w-7xl mx-auto p-4 md:p-8 grid grid-cols-1 lg:grid-cols-4 gap-6">
                        {/* Sidebar */}
                        <div className="space-y-2">
                            {CATEGORIES.map(cat => (
                                <button 
                                    key={cat.id}
                                    onClick={() => setActiveCategory(cat.id)}
                                    className={`w-full flex items-center p-4 rounded-xl border transition-all ${activeCategory === cat.id ? 'bg-cyan-600/20 border-cyan-500 text-white' : 'bg-slate-800 border-transparent text-slate-400'}`}
                                >
                                    <Icon name={cat.icon} className="mr-3 w-5 h-5" />
                                    {cat.name}
                                </button>
                            ))}
                        </div>

                        {/* Product List */}
                        <div className="lg:col-span-2 grid grid-cols-1 gap-4">
                            {PRODUCTS[activeCategory]?.map(product => (
                                <div 
                                    key={product.id}
                                    onClick={() => setSelectedParts({...selectedParts, [activeCategory]: product})}
                                    className={`p-5 rounded-2xl border cursor-pointer transition-all ${selectedParts[activeCategory]?.id === product.id ? 'border-cyan-500 bg-slate-800 shadow-lg shadow-cyan-500/10' : 'border-slate-800 bg-slate-900/50 hover:border-slate-600'}`}
                                >
                                    <div className="flex justify-between items-start">
                                        <div>
                                            <h3 className="font-bold text-lg">{product.name}</h3>
                                            <p className="text-slate-400 text-sm">{product.detail}</p>
                                        </div>
                                        <span className="text-cyan-400 font-bold">฿{formatPrice(product.price)}</span>
                                    </div>
                                </div>
                            ))}
                        </div>

                        {/* Summary */}
                        <div className="bg-slate-800 p-6 rounded-2xl border border-slate-700 h-fit sticky top-24">
                            <h2 className="text-xl font-bold mb-6 flex items-center gap-2">
                                <Icon name="Box" className="text-purple-400 w-5 h-5" />
                                สเปคของคุณ
                            </h2>
                            <div className="space-y-4 mb-8">
                                {CATEGORIES.map(cat => (
                                    <div key={cat.id} className="flex justify-between text-sm">
                                        <span className="text-slate-500">{cat.name}</span>
                                        <span className="text-slate-200 truncate ml-4">
                                            {selectedParts[cat.id] ? selectedParts[cat.id].name : 'ยังไม่เลือก'}
                                        </span>
                                    </div>
                                ))}
                            </div>
                            <div className="border-t border-slate-700 pt-4">
                                <p className="text-slate-400 text-sm">ราคารวมทั้งหมด</p>
                                <p className="text-3xl font-bold text-cyan-400">
                                    ฿{formatPrice(Object.values(selectedParts).reduce((sum, p) => sum + p.price, 0))}
                                </p>
                            </div>
                        </div>
                    </main>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
